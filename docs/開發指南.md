# é–‹ç™¼æŒ‡å—

æœ¬æ–‡ä»¶æä¾›å°ˆæ¡ˆé–‹ç™¼çš„è©³ç´°æŒ‡å—ï¼ŒåŒ…æ‹¬ç’°å¢ƒè¨­å®šã€é–‹ç™¼æµç¨‹ã€æ¸¬è©¦æ–¹æ³•ç­‰ã€‚

## ğŸ“‹ ç›®éŒ„

1. [ç’°å¢ƒè¨­å®š](#ç’°å¢ƒè¨­å®š)
2. [é–‹ç™¼æµç¨‹](#é–‹ç™¼æµç¨‹)
3. [è³‡æ–™ç®¡ç†](#è³‡æ–™ç®¡ç†)
4. [è·¯å¾‘é©—è­‰](#è·¯å¾‘é©—è­‰)
5. [æ¸¬è©¦æ–¹æ³•](#æ¸¬è©¦æ–¹æ³•)
6. [å¸¸è¦‹å•é¡Œ](#å¸¸è¦‹å•é¡Œ)

## ğŸ› ï¸ ç’°å¢ƒè¨­å®š

### å‰ç½®éœ€æ±‚

- **Node.js**: v18 æˆ–ä»¥ä¸Šç‰ˆæœ¬
- **npm**: éš¨ Node.js å®‰è£
- **Expo CLI**: é€é npm å…¨åŸŸå®‰è£
  ```bash
  npm install -g expo-cli
  ```

### å®‰è£å°ˆæ¡ˆä¾è³´

```bash
npm install
```

### é–‹ç™¼ç’°å¢ƒå•Ÿå‹•

```bash
# å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
npm start

# æˆ–æŒ‡å®šå¹³å°
npm run web      # Web ç‰ˆæœ¬
npm run android  # Android
npm run ios      # iOS (åƒ… macOS)
```

## ğŸ”„ é–‹ç™¼æµç¨‹

### 1. æ–°å¢é¡Œç›®è³‡æ–™

#### æ­¥é©Ÿ 1ï¼šæº–å‚™ Excel æª”æ¡ˆ
å°‡ Excel é¡Œç›®æª”æ¡ˆæ”¾å…¥ `data/` ç›®éŒ„ã€‚

#### æ­¥é©Ÿ 2ï¼šè½‰æ›ç‚º JSON
```bash
npm run convert:excel
```
æˆ–
```bash
node scripts/convertExcelToJSON.js
```

#### æ­¥é©Ÿ 3ï¼šæ”¾ç½® JSON æª”æ¡ˆ
å°‡è½‰æ›å¾Œçš„ JSON æª”æ¡ˆæ”¾å…¥å°æ‡‰çš„è³‡æ–™å¤¾ï¼š
```
assets/data/questions/{testName}/{subject}/{series_no}.json
```

ä¾‹å¦‚ï¼š
```
assets/data/questions/IPAS_01/L11/11401.json
```

#### æ­¥é©Ÿ 4ï¼šæ›´æ–°ç´¢å¼•
```bash
node scripts/updateQuestionIndex.js
```

æ­¤è…³æœ¬æœƒï¼š
- æƒææ‰€æœ‰é¡Œç›®æª”æ¡ˆ
- æ›´æ–° `assets/data/questions.json`ï¼ˆç´¢å¼•æª”æ¡ˆï¼‰
- æ›´æ–° `src/services/questionFileMap.ts`ï¼ˆæ˜ å°„è¡¨ï¼‰

#### æ­¥é©Ÿ 5ï¼šé©—è­‰è·¯å¾‘
```bash
node scripts/validatePaths.js
```

ç¢ºèªæ‰€æœ‰è·¯å¾‘éƒ½æ­£ç¢ºç„¡èª¤ã€‚

#### æ­¥é©Ÿ 6ï¼šé©—è­‰ JSON æ ¼å¼
```bash
node scripts/validateJson.js
```

ç¢ºèªæ‰€æœ‰ JSON æª”æ¡ˆæ ¼å¼æ­£ç¢ºã€‚

### 2. æ–°å¢åœ–ç‰‡è³‡æº

#### æ­¥é©Ÿ 1ï¼šæ”¾ç½®åœ–ç‰‡æª”æ¡ˆ
å°‡åœ–ç‰‡æª”æ¡ˆæ”¾å…¥å°æ‡‰çš„è³‡æ–™å¤¾ï¼š
```
assets/images/{testName}/{subject}/{series_no}/{imageFile}
```

ä¾‹å¦‚ï¼š
```
assets/images/IPAS_01/L11/11401/3Q1.png
```

#### æ­¥é©Ÿ 2ï¼šæ›´æ–°æ˜ å°„è¡¨
```bash
node scripts/updateImageFileMap.js
```

æ­¤è…³æœ¬æœƒæ›´æ–° `src/services/imageFileMap.ts`ã€‚

#### æ­¥é©Ÿ 3ï¼šé©—è­‰è·¯å¾‘
```bash
node scripts/validatePaths.js
```

### 3. ä¿®æ”¹ç¨‹å¼ç¢¼

#### TypeScript é¡å‹æª¢æŸ¥
å°ˆæ¡ˆä½¿ç”¨ TypeScriptï¼Œç¢ºä¿é¡å‹æ­£ç¢ºï¼š
```bash
# æª¢æŸ¥é¡å‹ï¼ˆå¦‚æœé…ç½®äº†ï¼‰
npx tsc --noEmit
```

#### ç¨‹å¼ç¢¼é¢¨æ ¼
- ä½¿ç”¨ 2 å€‹ç©ºæ ¼ç¸®æ’
- ä½¿ç”¨å–®å¼•è™Ÿ
- éµå¾ª React Native æœ€ä½³å¯¦è¸

## ğŸ“Š è³‡æ–™ç®¡ç†

### è³‡æ–™çµæ§‹

#### é¡Œç›®æª”æ¡ˆæ ¼å¼
```json
{
  "importDate": "2025-12-16",
  "source": "é¡Œç›®ä¾†æºèªªæ˜",
  "questions": [
    {
      "id": "1",
      "content": "é¡Œç›®å…§å®¹",
      "A": "é¸é … A",
      "B": "é¸é … B",
      "C": "é¸é … C",
      "D": "é¸é … D",
      "Ans": "A",
      "exp": "è©³è§£èªªæ˜"
    }
  ]
}
```

#### ç´¢å¼•æª”æ¡ˆçµæ§‹
ç´¢å¼•æª”æ¡ˆ `assets/data/questions/questions.json` åŒ…å«ï¼š
- `config`: æ‡‰ç”¨ç¨‹å¼é…ç½®å€å¡Š
  - `dataVersion`: è³‡æ–™æ ¼å¼ç‰ˆæœ¬
  - `appName`: æ‡‰ç”¨ç¨‹å¼é¡¯ç¤ºåç¨±
  - `enableImport`: æ˜¯å¦å•Ÿç”¨åŒ¯å…¥åŠŸèƒ½
  - `enableTrash`: æ˜¯å¦å•Ÿç”¨éŒ¯é¡Œæœ¬åŠŸèƒ½
  - `enableFavor`: æ˜¯å¦å•Ÿç”¨æ¸…é™¤æˆ‘çš„æœ€æ„›åŠŸèƒ½
  - `testName`: æ¸¬é©—åç¨±è­˜åˆ¥ç¢¼
  - `displayName`: é¡Œåº«é¡¯ç¤ºåç¨±
  - `configVersion`: é…ç½®ç‰ˆæœ¬
- `questionFiles`: é¡Œç›®æª”æ¡ˆæ¸…å–®
  - `series_no`: æœŸæ•¸ç·¨è™Ÿ
  - `displayName`: é¡¯ç¤ºåç¨±
  - `file`: æª”æ¡ˆè·¯å¾‘
  - `count`: é¡Œç›®æ•¸é‡
  - `testName`: æ¸¬é©—åç¨±ï¼ˆå¯é¸ï¼‰
  - `subject`: ç§‘ç›®ï¼ˆå¯é¸ï¼Œå…©å±¤çµæ§‹æ™‚ç‚º nullï¼‰

### è³‡æ–™å¤¾å‘½åè¦ç¯„

#### æ¸¬é©—åç¨±ï¼ˆç¬¬ä¸€å±¤ï¼‰
- ä½¿ç”¨å¤§å¯«å­—æ¯å’Œåº•ç·š
- ç¯„ä¾‹ï¼š`IPAS_01`ã€`IPAS_02`ã€`AZ900`ã€`JAVA`

#### ç§‘ç›®åç¨±ï¼ˆç¬¬äºŒå±¤ï¼‰
- ä½¿ç”¨ç°¡çŸ­è­˜åˆ¥ç¢¼æˆ–æè¿°æ€§åç¨±
- ç¯„ä¾‹ï¼š`L11`ã€`L12`ã€`part1`ã€`Spring boot`

#### æœŸæ•¸æª”æ¡ˆï¼ˆç¬¬ä¸‰å±¤ï¼‰
- ä½¿ç”¨æœŸæ•¸ç·¨è™Ÿæˆ–æ—¥æœŸä½œç‚ºæª”å
- ç¯„ä¾‹ï¼š`11401.json`ã€`20251216.json`

## âœ… è·¯å¾‘é©—è­‰

### é©—è­‰è…³æœ¬

å°ˆæ¡ˆæä¾›äº†å®Œæ•´çš„è·¯å¾‘é©—è­‰è…³æœ¬ï¼š

```bash
node scripts/validatePaths.js
```

### é©—è­‰é …ç›®

1. **é¡Œç›®æª”æ¡ˆè·¯å¾‘**
   - æª¢æŸ¥ `questionFileMap.ts` ä¸­çš„æ‰€æœ‰ require è·¯å¾‘
   - ç¢ºèªæª”æ¡ˆå­˜åœ¨æ–¼æ­£ç¢ºä½ç½®

2. **åœ–ç‰‡æª”æ¡ˆè·¯å¾‘**
   - æª¢æŸ¥ `imageFileMap.ts` ä¸­çš„æ‰€æœ‰ require è·¯å¾‘
   - ç¢ºèªåœ–ç‰‡æª”æ¡ˆå­˜åœ¨

3. **ç´¢å¼•æª”æ¡ˆè·¯å¾‘**
   - æª¢æŸ¥ `questions.json` ä¸­å¼•ç”¨çš„æ‰€æœ‰æª”æ¡ˆ
   - é©—è­‰æª”æ¡ˆæ ¼å¼å’Œé¡Œæ•¸

4. **é…ç½®æª”æ¡ˆ**
   - æª¢æŸ¥ `quiz-library-config.json` æ ¼å¼
   - é©—è­‰ JSON çµæ§‹

5. **æ‡‰ç”¨ç¨‹å¼è³‡æº**
   - æª¢æŸ¥å¿…è¦çš„è³‡æºæª”æ¡ˆï¼ˆå¦‚ `back.png`ï¼‰

### é©—è­‰çµæœ

æˆåŠŸæ™‚æœƒé¡¯ç¤ºï¼š
```
âœ… æ‰€æœ‰è·¯å¾‘é©—è­‰é€šéï¼
```

å¤±æ•—æ™‚æœƒé¡¯ç¤ºéŒ¯èª¤å’Œè­¦å‘Šï¼š
```
âŒ ç™¼ç¾ X å€‹éŒ¯èª¤ï¼š
  âŒ é¡Œç›®æª”æ¡ˆä¸å­˜åœ¨: ...

âš ï¸  ç™¼ç¾ Y å€‹è­¦å‘Šï¼š
  âš ï¸  é¡Œæ•¸ä¸ä¸€è‡´: ...
```

## ğŸ§ª æ¸¬è©¦æ–¹æ³•

### 1. åŠŸèƒ½æ¸¬è©¦

#### Web ç‰ˆæœ¬æ¸¬è©¦
```bash
npm run web
```
åœ¨ç€è¦½å™¨ä¸­é–‹å•Ÿæ‡‰ç”¨ç¨‹å¼ï¼Œæ¸¬è©¦å„é …åŠŸèƒ½ã€‚

#### è¡Œå‹•è£ç½®æ¸¬è©¦
```bash
npm start
```
ä½¿ç”¨ Expo Go App æƒæ QR Code é€£æ¥ã€‚

### 2. è·¯å¾‘æ¸¬è©¦

åŸ·è¡Œè·¯å¾‘é©—è­‰è…³æœ¬ï¼š
```bash
node scripts/validatePaths.js
```

### 3. JSON æ ¼å¼æ¸¬è©¦

åŸ·è¡Œ JSON é©—è­‰è…³æœ¬ï¼š
```bash
node scripts/validateJson.js
```

### 4. è³‡æ–™å®Œæ•´æ€§æ¸¬è©¦

æª¢æŸ¥é¡Œç›®è³‡æ–™çµ±è¨ˆï¼š
```bash
node scripts/generateStats.js
```

## â“ å¸¸è¦‹å•é¡Œ

### Q1: æ–°å¢é¡Œç›®å¾Œæ‡‰ç”¨ç¨‹å¼æ‰¾ä¸åˆ°æª”æ¡ˆ

**è§£æ±ºæ–¹æ¡ˆï¼š**
1. ç¢ºèªå·²åŸ·è¡Œ `node scripts/updateQuestionIndex.js`
2. ç¢ºèªæª”æ¡ˆè·¯å¾‘ç¬¦åˆè¦ç¯„
3. åŸ·è¡Œ `node scripts/validatePaths.js` æª¢æŸ¥è·¯å¾‘
4. é‡æ–°å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼

### Q2: åœ–ç‰‡ç„¡æ³•é¡¯ç¤º

**è§£æ±ºæ–¹æ¡ˆï¼š**
1. ç¢ºèªå·²åŸ·è¡Œ `node scripts/updateImageFileMap.js`
2. ç¢ºèªåœ–ç‰‡è·¯å¾‘æ­£ç¢º
3. æª¢æŸ¥åœ–ç‰‡æª”æ¡ˆæ ¼å¼ï¼ˆæ”¯æ´ .png, .jpg, .jpegï¼‰
4. åŸ·è¡Œ `node scripts/validatePaths.js` æª¢æŸ¥è·¯å¾‘

### Q3: é…ç½®æª”æ¡ˆä¿®æ”¹å¾Œæ²’æœ‰ç”Ÿæ•ˆ

**è§£æ±ºæ–¹æ¡ˆï¼š**
1. ç¢ºèª JSON æ ¼å¼æ­£ç¢º
2. æ¸…é™¤ç€è¦½å™¨å¿«å–ï¼ˆWeb ç‰ˆæœ¬ï¼‰
3. é‡æ–°å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼
4. æª¢æŸ¥é…ç½®æª”æ¡ˆè·¯å¾‘ï¼š`assets/config/quiz-library-config.json`

### Q4: ç´¢å¼•æª”æ¡ˆæ ¼å¼éŒ¯èª¤

**è§£æ±ºæ–¹æ¡ˆï¼š**
1. ä¸è¦æ‰‹å‹•ç·¨è¼¯ç´¢å¼•æª”æ¡ˆ
2. åŸ·è¡Œ `node scripts/updateQuestionIndex.js` é‡æ–°ç”Ÿæˆ
3. æª¢æŸ¥é¡Œç›®æª”æ¡ˆæ ¼å¼æ˜¯å¦æ­£ç¢º

### Q5: require è·¯å¾‘éŒ¯èª¤

**è§£æ±ºæ–¹æ¡ˆï¼š**
1. ç¢ºèª require è·¯å¾‘æ˜¯ç›¸å°æ–¼ç•¶å‰æª”æ¡ˆçš„ä½ç½®
2. æª¢æŸ¥è·¯å¾‘åˆ†éš”ç¬¦ï¼ˆä½¿ç”¨ `/`ï¼‰
3. é‡æ–°åŸ·è¡Œå°æ‡‰çš„æ›´æ–°è…³æœ¬

## ğŸ“š ç›¸é—œæ–‡æª”

- [å°ˆæ¡ˆçµæ§‹èˆ‡è·¯å¾‘èªªæ˜](./å°ˆæ¡ˆçµæ§‹èˆ‡è·¯å¾‘èªªæ˜.md)
- [æª”æ¡ˆåŠŸèƒ½èªªæ˜](./æª”æ¡ˆåŠŸèƒ½èªªæ˜.md)
- [é¡Œåº«é…ç½®ä½¿ç”¨æŒ‡å—](./é¡Œåº«é…ç½®ä½¿ç”¨æŒ‡å—.md)
- [README.md](../README.md)

## ğŸ”— æœ‰ç”¨çš„å‘½ä»¤

```bash
# æ›´æ–°é¡Œç›®ç´¢å¼•
node scripts/updateQuestionIndex.js

# æ›´æ–°åœ–ç‰‡æ˜ å°„è¡¨
node scripts/updateImageFileMap.js

# é©—è­‰æ‰€æœ‰è·¯å¾‘
node scripts/validatePaths.js

# é©—è­‰ JSON æ ¼å¼
node scripts/validateJson.js

# ç”Ÿæˆçµ±è¨ˆå ±å‘Š
node scripts/generateStats.js

# æ¸…é™¤å¿«å–ï¼ˆé–‹ç™¼æ™‚ï¼‰
node scripts/clearCache.js
```

