# Expo Go 錯誤除錯步驟

## 當出現 "something went wrong" 錯誤時

### 1. 確認啟動方式

**正確的啟動方式**：
```bash
npm start
```

這會執行 `expo start`，然後：
- 在終端機中會顯示 QR 碼
- 使用 Expo Go 掃描 QR 碼連接

### 2. 清除快取並重新啟動

**步驟 1：停止當前的開發伺服器**
- 在終端機中按 `Ctrl+C` 停止

**步驟 2：清除快取並重新啟動**
```bash
npx expo start --clear
```

或使用：
```bash
npm start -- --clear
```

### 3. 檢查終端機錯誤訊息

啟動後，查看終端機中是否有紅色錯誤訊息：
- ❌ 紅色錯誤訊息
- ⚠️ 黃色警告訊息

**常見錯誤**：
- `Unable to resolve module` - 模組找不到
- `SyntaxError` - 語法錯誤
- `TypeError` - 類型錯誤

### 4. 檢查 Android Logcat（如果使用 Android）

```bash
adb logcat | grep -E "ReactNative|Expo|Error|Exception"
```

或使用 Android Studio 的 Logcat 視窗。

### 5. 檢查版本匹配

**確認 Expo Go 版本**：
- 在手機上打開 Expo Go
- 查看版本號（應為 54）

**確認專案 Expo SDK 版本**：
```bash
grep "expo" package.json
```
應顯示：`"expo": "~54.0.29"`

**檢查依賴項**：
```bash
npx expo-doctor
```

### 6. 重新安裝依賴項

如果問題持續：
```bash
# 刪除 node_modules 和 lock 檔案
rm -rf node_modules package-lock.json

# 重新安裝
npm install

# 清除快取並啟動
npx expo start --clear
```

### 7. 檢查檔案完整性

**驗證路徑**：
```bash
node scripts/validatePaths.js
```

**檢查 JSON 格式**：
```bash
node scripts/validateJson.js
```

### 8. 簡化測試

如果問題持續，可以暫時簡化 `App.tsx` 來測試：

```typescript
export default function App() {
  return (
    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>
      <Text>Hello World</Text>
    </View>
  );
}
```

如果這個簡單版本可以運行，問題可能在初始化邏輯中。

### 9. 檢查網路連接

確保：
- 手機和電腦在同一個 Wi-Fi 網路
- 防火牆沒有阻擋 Expo 開發伺服器
- 沒有使用 VPN 或代理

### 10. 重新安裝 Expo Go

如果以上步驟都無效：
1. 卸載手機上的 Expo Go
2. 重新安裝最新版本的 Expo Go（54）
3. 重新掃描 QR 碼

## 常見錯誤解決方案

### 錯誤：Module not found
- **解決**：執行 `npm install` 重新安裝依賴項

### 錯誤：Cannot read property 'xxx' of undefined
- **解決**：檢查相關的服務或組件是否有正確初始化

### 錯誤：Network request failed
- **解決**：確認手機和電腦在同一網路，檢查防火牆設定

### 錯誤：Timeout
- **解決**：增加超時時間，或檢查資料載入邏輯

## 獲取詳細錯誤資訊

在 `App.tsx` 中已添加詳細的日誌輸出：
- 🚀 開始操作
- ✅ 成功
- ❌ 錯誤
- ⚠️ 警告
- 📋 資訊

查看終端機或 Logcat 可以找到具體的錯誤位置。

